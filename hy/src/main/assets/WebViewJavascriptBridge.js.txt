!function(){if(!window.NJWebViewJavascriptBridge){var e,a=[],n=[],r={},i="wvjbscheme",t="__WVJB_FLUSH_MESSAGE__",d={},s=1,c=document;window.NJWebViewJavascriptBridge={init:p,send:function(e,a){f({data:e},a)},registerHandler:function(e,a){r[e]=a},callHandler:function(e,a,n){f({handlerName:e,data:a},n)},_fetchQueue:v,_handleMessageFromObjC:function(e){n?n.push(e):m(e)}},(e=(o=c).createElement("iframe")).style.display="none",o.documentElement.appendChild(e);var o,l=c.createEvent("Events");l.initEvent("NJWebViewJavascriptBridgeReady"),l.bridge=NJWebViewJavascriptBridge,p(function(e,a){a({response:"default"})}),c.dispatchEvent(l)}function p(e){if(NJWebViewJavascriptBridge._messageHandler)throw new Error("NJWebViewJavascriptBridge.init called twice");NJWebViewJavascriptBridge._messageHandler=e;var a=n;n=null;for(var r=0;r<a.length;r++)m(a[r])}function u(e,a){if(a){var n="cb_"+s+++"_"+(new Date).getTime();d[n]=a,e.callbackId=n}return e}function f(e,n){u(e,n),a.push(e),v()}function v(){var e=function(e){var a=e.createElement("iframe");return a.style.display="none",e.documentElement.appendChild(a),a}(c),n=u({handlerName:"Nop",data:(new Date).getTime()+"_"+s},function(){e.parentNode.removeChild(e)});a.push(n);var r=JSON.stringify(a),d=i+"://"+t+"/"+encodeURIComponent(r);a=[],e.src=d}function m(e){setTimeout(function(){var a=JSON.parse(e);if(a.responseId){if(!(n=d[a.responseId]))return;n(a.responseData),delete d[a.responseId]}else{var n;if(a.callbackId){var i=a.callbackId;n=function(e){f({responseId:i,responseData:e})}}var t=NJWebViewJavascriptBridge._messageHandler;a.handlerName&&(t=r[a.handlerName]);try{t(a.data,n)}catch(e){"undefined"!=typeof console&&console.log("NJWebViewJavascriptBridge: WARNING: javascript handler threw.",a,e)}}})}}();